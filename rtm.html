<!DOCTYPE html>
<html class="writer-html5" lang="ja" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>5. AirGraph (RTM Editor) &mdash; AirGraph  ドキュメント</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="6. AirGraph (Keras Editor)" href="keras.html" />
    <link rel="prev" title="1. AirGraphについて" href="start.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> AirGraph
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="start.html">1. AirGraphについて</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html#id1">2. 共同研究のご紹介</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html#id5">3. システム要件</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html#id6">4. インストール手順</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. AirGraph (RTM Editor)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">5.1. 概要</a></li>
<li class="toctree-l2"><a class="reference internal" href="#openrtm-aist">5.2. OpenRTM-aistとの関係について</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wasanbon">5.3. wasanbonとの関係について</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">5.4. 使い方</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">5.4.1. ホストを設定する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">5.4.2. パッケージを新規に作成する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">5.4.3. パッケージを流用して作成する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">5.4.4. パッケージのプロパティを変更する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">5.4.5. コンポーネントを新規に作成する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">5.4.6. コンポーネントを流用して作成する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">5.4.7. コンポーネントのプロパティを変更する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">5.4.8. ソースコードを編集する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">5.4.9. データポートを追加・変更する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">5.4.10. サービスポートを追加・変更する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">5.4.11. コンフィギュレーションを追加・変更する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">5.4.12. パッケージを構築する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">5.4.13. パッケージ・コンポーネントを保存する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#git">5.4.14. コンポーネントをGitリポジトリと連携する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">5.4.15. パッケージをGitリポジトリと連携する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">5.4.16. パッケージ・コンポーネントをローカルビルドする</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">5.4.17. システムをローカル実行する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">5.4.18. システムをデプロイする</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">5.4.19. パッケージ・コンポーネントをリモートビルドする</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">5.4.20. システムをリモート実行する</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id24">5.5. その他</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">5.5.1. コンポーネントの一覧について</a></li>
<li class="toctree-l3"><a class="reference internal" href="#binder">5.5.2. Binderを新規作成する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">5.5.3. パッケージ・コンポーネントを作成したBinderに登録する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">5.5.4. Binderに登録済みのパッケージ・コンポーネントを更新する</a></li>
<li class="toctree-l3"><a class="reference internal" href="#airgraph-wasanbon">5.5.5. AirGraph，wasanbonのバージョンを確認する</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="keras.html">6. AirGraph (Keras Editor)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtm_keras.html">7. ロボット開発とDeep Learning開発の連携について</a></li>
<li class="toctree-l1"><a class="reference internal" href="end.html">8. ライセンス</a></li>
<li class="toctree-l1"><a class="reference internal" href="end.html#id2">9. 不具合・改善要望について</a></li>
<li class="toctree-l1"><a class="reference internal" href="end.html#id3">10. お問い合わせ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AirGraph</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">5. </span>AirGraph (RTM Editor)</li>
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/sec-airgraph/AirGraph" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="airgraph-rtm-editor">
<h1><span class="section-number">5. </span>AirGraph (RTM Editor)<a class="headerlink" href="#airgraph-rtm-editor" title="この見出しへのパーマリンク"></a></h1>
<section id="id1">
<h2><span class="section-number">5.1. </span>概要<a class="headerlink" href="#id1" title="この見出しへのパーマリンク"></a></h2>
<p>AirGraph (RTM Editor)の主な機能は次の通りです．</p>
<ul class="simple">
<li><p>WEBブラウザ上でRTMによるロボットシステム開発が可能</p></li>
<li><p>ロボットシステム単位での一覧・再利用が可能</p></li>
<li><p>コンポーネント単位での一覧・再利用が可能</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rtm_ide.png"><img alt="_images/rtm_ide.png" class="align-center" src="_images/rtm_ide.png" style="width: 100%;" /></a>
<ul class="simple">
<li><p>画面構成</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>画面上部：操作メニューエリア</p></li>
<li><p>画面左部：システム・コンポーネントの一覧表示エリア</p></li>
<li><p>画面右部：システム・コンポーネントのプロパティ設定エリア / ホスト設定エリア</p></li>
<li><p>画面下部：システムのコンフィギュレーション設定エリア</p></li>
<li><p>画面中央：システム構築・コンポーネント開発エリア</p></li>
</ul>
</div></blockquote>
</section>
<section id="openrtm-aist">
<h2><span class="section-number">5.2. </span>OpenRTM-aistとの関係について<a class="headerlink" href="#openrtm-aist" title="この見出しへのパーマリンク"></a></h2>
<p><a class="reference external" href="http://openrtm.org/">OpenRTM-aist</a> では以下の2つの主なツールが提供されています．</p>
<ul class="simple">
<li><p>RTCBuilder</p></li>
<li><p>RTSystemEditor</p></li>
</ul>
<p>基本的にはAirGraphと上記ツールには互換性があります．</p>
<p>RTCBuilderにて作成したコンポーネントはAirGraphで表示・編集することが可能です．
ただし、AirGraphで作成したコンポーネントをRTCBuilderで表示する場合，以下の修正が必要です．</p>
<ul class="simple">
<li><p>RTC.xmlのNNInfoタグを削除する．</p></li>
</ul>
<p>AirGraphで実行中のシステムは，RTSystemEditorで表示することが可能です．</p>
</section>
<section id="wasanbon">
<h2><span class="section-number">5.3. </span>wasanbonとの関係について<a class="headerlink" href="#wasanbon" title="この見出しへのパーマリンク"></a></h2>
<p>AirGraphはパッケージ・コンポーネントの構成管理ツールとして <a class="reference external" href="https://github.com/wasanbon/wasanbon_webframework">wasanbon-webframework</a> を利用しています．</p>
<p><a class="reference external" href="http://wasanbon.org/">wasanbon</a> を直接操作することで，Terminal上での構築も可能です．</p>
</section>
<section id="id4">
<h2><span class="section-number">5.4. </span>使い方<a class="headerlink" href="#id4" title="この見出しへのパーマリンク"></a></h2>
<section id="id5">
<h3><span class="section-number">5.4.1. </span>ホストを設定する<a class="headerlink" href="#id5" title="この見出しへのパーマリンク"></a></h3>
<ol class="arabic simple">
<li><p>各ホストの.wasanbon-webframeworkディレクトリ内にあるuser_info.yamlを更新します．</p></li>
<li><p>AirGraphサーバーを立ち上げるマシンの/opt/AirGraph/hosts/にあるgitHubConfig.yamlを更新します．</p></li>
<li><p>各ホストでwasanbon-webframeworkを起動します．</p></li>
<li><p>AirGraph上で，リモートホストの登録を行います．</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="_images/rtm_add_host1.png"><img alt="_images/rtm_add_host1.png" class="align-center" src="_images/rtm_add_host1.png" style="width: 60%;" /></a>
<ul class="simple">
<li><p>IDE上では，wasambon-webframeworkで使用するリモートホスト(以下Wasanbonホストと呼ぶ)と，複数のAirGraphサーバーからデータセットやDNNモデルをダウンロードするために使用するリモートホスト(以下AirGraphホストと呼ぶ)の２種類を設定できる．</p></li>
<li><p>Wasanbon ホストは，[Add Wasanbon Host]タブを押し，ホスト名，IPアドレス，nameserverのポート番号，wasanbon-webframeworkのポート番号を入力し，[Add]ボタンを押下する．</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rtm_add_host2.png"><img alt="_images/rtm_add_host2.png" class="align-center" src="_images/rtm_add_host2.png" style="width: 60%;" /></a>
<ul class="simple">
<li><p>ポップアップが表示されるので，user-info.yamlで設定したID，パスワードを入力する．</p></li>
<li><p>[OK]ボタンを押下する．すでに登録済のホストと重複がなければ，Wasanbon Host Listに今回登録したホストが表示される．</p></li>
<li><p>AirGraphホストは，[Add AirGraph Host]タブを押し，ホスト名，IPアドレス，AirGraphサーバーが使用するポート番号を入力し，[Add]ボタンを押下する．</p></li>
<li><p>重複がなければ，AirGraph Host Listに今回登録したホストが表示される．</p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>登録したホストの情報は/opt/AirGraph/hosts/内のYamlファイルに保存されます．このファイルには，&quot;!!&quot;で始まるタグが自動生成されますが，AirGraphサーバーがこのファイルをロードする際の型のヒントとして必要なので，消さないようにしてください．</p>
</div>
<ol class="arabic simple" start="5">
<li><p>ホストリストの情報を更新します．</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="_images/rtm_host_list_edit.png"><img alt="_images/rtm_host_list_edit.png" class="align-center" src="_images/rtm_host_list_edit.png" style="width: 60%;" /></a>
<ul class="simple">
<li><p>ホストリスト の[Edit]ボタンを押下する．表示されているホストの情報が編集可能になる．</p></li>
<li><p>編集を保存する場合は，[Save]ボタンを押下する．</p></li>
<li><p>削除したいホストがある場合，ホストリストの[Edit]ボタンを押下したのち，削除したいホストの右側に表示される[×]ボタンを押下する．そのまま[Save]ボタンを押下することで，削除を保存することができる．</p></li>
<li><p>各Wasanbonホストの左側に，緑色または赤色のアイコンが表示される．これは，そのWasanbonホストのネームサーバーの稼働状況を表している．緑色のアイコンならばネームサーバー起動中，赤色のアイコンならばネームサーバー停止中である．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>RTCにWasanbonホストを割り当てます．</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="_images/rtm_host_assign.png"><img alt="_images/rtm_host_assign.png" class="align-center" src="_images/rtm_host_assign.png" style="width: 90%;" /></a>
<ul class="simple">
<li><p>画面中央の作業領域にRTCアイコンがある場合，ホスト設定エリアのAssign to RTCsという項目で，各RTCにどのホストを割り当てるかを選択することができる．</p></li>
<li><p>デフォルトではローカルホスト(localhost:2809)が割り当てられている．この状態で，ビルド・デプロイ・実行などを行うこともできる．</p></li>
<li><p>ホストを選択すると，画面中央の作業領域のRTCアイコンの下側に表示されるWasanbonホスト名が更新される．</p></li>
</ul>
</div></blockquote>
</section>
<section id="id6">
<h3><span class="section-number">5.4.2. </span>パッケージを新規に作成する<a class="headerlink" href="#id6" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_create_package.png"><img alt="_images/rtm_create_package.png" class="align-center" src="_images/rtm_create_package.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面左部の[New]-[New Pkg.]を画面中央にドラッグ＆ドロップします．</p></li>
<li><p>パッケージの設定画面が表示されますので，内容を変更し，[Create]ボタンを押下します．</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>System Name</p></td>
<td><p>パッケージ名</p></td>
</tr>
<tr class="row-odd"><td><p>Version</p></td>
<td><p>バージョン番号</p></td>
</tr>
<tr class="row-even"><td><p>Vender Name</p></td>
<td><p>会社名</p></td>
</tr>
<tr class="row-odd"><td><p>Abstract</p></td>
<td><p>パッケージ概要</p></td>
</tr>
<tr class="row-even"><td><p>Remote Repository</p></td>
<td><p>GitHubなどのリポジトリURL</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li><p>画面左部の[Workspace]に新しいパッケージが表示され，画面中央には何もない状態になります．</p></li>
</ol>
</section>
<section id="id7">
<h3><span class="section-number">5.4.3. </span>パッケージを流用して作成する<a class="headerlink" href="#id7" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_copy_package.png"><img alt="_images/rtm_copy_package.png" class="align-center" src="_images/rtm_copy_package.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面左部の[Package]の任意のパッケージを画面中央にドラッグ＆ドロップします．</p></li>
<li><p>新規作成時と同様に，パッケージの設定画面が表示されますので，必要な箇所を変更し，[Create]ボタンを押下します．</p></li>
<li><p>画面左部の[Workspace]にコピーされたパッケージが表示され，画面中央にはそのパッケージに含まれるコンポーネントが表示されます．</p></li>
</ol>
</section>
<section id="id8">
<h3><span class="section-number">5.4.4. </span>パッケージのプロパティを変更する<a class="headerlink" href="#id8" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_update_package.png"><img alt="_images/rtm_update_package.png" class="align-center" src="_images/rtm_update_package.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>以下のいずれかの方法でパッケージの設定画面を起動します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>コンポーネントが未選択の状態で，画面下部の[Property]ボタンを押下する(画面右部に表示される)．</p></li>
<li><p>画面上部の[Tools]-[Package Setting]ボタンを押下する．</p></li>
<li><p>画面中央の白い領域で表示される右クリックメニューの[Edit Package Setting]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>必要な箇所を変更し，[Update]ボタンを押下します．</p></li>
</ol>
</section>
<section id="id9">
<h3><span class="section-number">5.4.5. </span>コンポーネントを新規に作成する<a class="headerlink" href="#id9" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_create_component.png"><img alt="_images/rtm_create_component.png" class="align-center" src="_images/rtm_create_component.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面左部の[New]-[New Comp(C++).]または[New Comp(Python).]を画面中央にドラッグ＆ドロップします．</p></li>
<li><p>コンポーネントの設定画面が表示されますので，内容を変更し，[Create]ボタンを押下します．</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Module Name</p></td>
<td><p>コンポーネント名</p></td>
</tr>
<tr class="row-odd"><td><p>Module Description</p></td>
<td><p>コンポーネント概要</p></td>
</tr>
<tr class="row-even"><td><p>Version</p></td>
<td><p>バージョン番号</p></td>
</tr>
<tr class="row-odd"><td><p>Vender Name</p></td>
<td><p>会社名</p></td>
</tr>
<tr class="row-even"><td><p>Module Category</p></td>
<td><p>コンポーネントカテゴリ</p></td>
</tr>
<tr class="row-odd"><td><p>Component Type</p></td>
<td><p>コンポーネント型</p></td>
</tr>
<tr class="row-even"><td><p>Activity Type</p></td>
<td><p>アクティビティ型</p></td>
</tr>
<tr class="row-odd"><td><p>Component Kind</p></td>
<td><p>コンポーネント種類</p></td>
</tr>
<tr class="row-even"><td><p>Max Instance Size</p></td>
<td><p>最大インスタンス数</p></td>
</tr>
<tr class="row-odd"><td><p>Execution Type</p></td>
<td><p>実行型</p></td>
</tr>
<tr class="row-even"><td><p>Execution Rate</p></td>
<td><p>実行周期</p></td>
</tr>
<tr class="row-odd"><td><p>Abstract</p></td>
<td><p>コンポーネント概要</p></td>
</tr>
<tr class="row-even"><td><p>RTC Type</p></td>
<td><p>RTC型</p></td>
</tr>
<tr class="row-odd"><td><p>Keras Editor Host</p></td>
<td><p>DNNモデルをダウンロードするKeras Editorのホスト情報</p></td>
</tr>
<tr class="row-even"><td><p>DNN Model Name</p></td>
<td><p>DNNモデル名</p></td>
</tr>
<tr class="row-odd"><td><p>Dataset Name</p></td>
<td><p>データセット名</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li><p>画面中央にコンポーネント名と青いコンポーネントが表示されます．</p></li>
</ol>
</section>
<section id="id10">
<h3><span class="section-number">5.4.6. </span>コンポーネントを流用して作成する<a class="headerlink" href="#id10" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_copy_component.png"><img alt="_images/rtm_copy_component.png" class="align-center" src="_images/rtm_copy_component.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面左部の[Rtc]の任意のコンポーネントを画面中央にドラッグ＆ドロップします．</p></li>
<li><p>画面中央にコンポーネント名と青いコンポーネントが表示されます．</p></li>
</ol>
</section>
<section id="id11">
<h3><span class="section-number">5.4.7. </span>コンポーネントのプロパティを変更する<a class="headerlink" href="#id11" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_update_component.png"><img alt="_images/rtm_update_component.png" class="align-center" src="_images/rtm_update_component.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>以下のいずれかの方法でパッケージの設定画面を起動します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>コンポーネントを選択している状態で，画面下部の[Property]ボタンを押下する(画面右部に表示される)．</p></li>
<li><p>コンポーネントの右クリックメニューの[Edit Component Setting]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>必要な箇所を変更し，[Update]ボタンを押下します．</p></li>
</ol>
<ul class="simple">
<li><p>[RTC Activities]タブのチェックボックスを変更すると，該当するメソッドの有効無効が自動反映される．</p></li>
<li><p>主なメソッドは以下の通り．</p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>メソッド名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OnInitialize</p></td>
<td><p>初期化される際に一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-odd"><td><p>OnActivated</p></td>
<td><p>非アクティブ状態からアクティブ化されるとき，一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-even"><td><p>OnExecute</p></td>
<td><p>アクティブ状態時に周期的に呼ばれます．</p></td>
</tr>
<tr class="row-odd"><td><p>OnDeactivated</p></td>
<td><p>アクティブ状態から非アクティブ化されるとき，一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-even"><td><p>OnAborting</p></td>
<td><p>エラー状態に入る前に一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-odd"><td><p>OnReset</p></td>
<td><p>エラー状態からリセットされ，非アクティブ状態に遷移する際に一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-even"><td><p>OnError</p></td>
<td><p>エラー状態にいる間，周期的に呼ばれます．</p></td>
</tr>
<tr class="row-odd"><td><p>OnFinalize</p></td>
<td><p>コンポーネントの終了時に一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-even"><td><p>OnStateUpdate</p></td>
<td><p>OnExecuteの後，毎回呼ばれます．</p></td>
</tr>
<tr class="row-odd"><td><p>OnRateChanged</p></td>
<td><p>実行コンテキストのrateが変更された際に呼ばれます．</p></td>
</tr>
<tr class="row-even"><td><p>OnStartup</p></td>
<td><p>実行コンテキストが実行を開始する際に一度だけ呼ばれます．</p></td>
</tr>
<tr class="row-odd"><td><p>OnShutdown</p></td>
<td><p>実行コンテキストが実行を停止する際に一度だけ呼ばれます．</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id12">
<h3><span class="section-number">5.4.8. </span>ソースコードを編集する<a class="headerlink" href="#id12" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_code_editor.png"><img alt="_images/rtm_code_editor.png" class="align-center" src="_images/rtm_code_editor.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>コンポーネントのダブルクリック，またはコンポーネントの右クリックメニューから[Edit Source Code]ボタンを押下します．</p></li>
<li><p>ソースコード編集画面が表示されますので，任意の変更を行います．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Pythonの場合，コンポーネント名.pyがメインのソースコードである．</p></li>
<li><p>C++の場合，includeフォルダのコンポーネント名.hとsrcフォルダのコンポーネント名.cppがメインのソースコードである．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>変更が終わったら，ソースコード編集画面を終了します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>このタイミングではブラウザ上のみの変更で，サーバ上には変更は反映されていない．</p></li>
</ul>
</div></blockquote>
</section>
<section id="id13">
<h3><span class="section-number">5.4.9. </span>データポートを追加・変更する<a class="headerlink" href="#id13" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_contextmenu_dataport.png"><img alt="_images/rtm_contextmenu_dataport.png" src="_images/rtm_contextmenu_dataport.png" style="width: 45%;" /></a>
<a class="reference internal image-reference" href="_images/rtm_dataport.png"><img alt="_images/rtm_dataport.png" src="_images/rtm_dataport.png" style="width: 50%;" /></a>
<ol class="arabic simple">
<li><p>データポートを追加する場合，コンポーネントの右クリックメニューから[Add Input Port]ボタンまたは[Add Output Port]ボタンを押下します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>変更する場合はポートのアイコン上で右クリックをし，[Edit Port]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>ポートの設定画面が表示されますので，内容を変更し，[Create]ボタンを押下します．</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Port Name</p></td>
<td><p>ポート名</p></td>
</tr>
<tr class="row-odd"><td><p>Data Type</p></td>
<td><p>データ型</p></td>
</tr>
<tr class="row-even"><td><p>Variable Name</p></td>
<td><p>変数名</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li><p>変更がサーバに自動反映され，必要なポート定義がソースコードに自動反映されます．</p></li>
</ol>
<ul class="simple">
<li><p>C++の場合</p></li>
</ul>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// &lt;rtc-template block=&quot;inport_declare&quot;&gt;</span>
<span class="n">RTC</span><span class="p">::</span><span class="n">TimedLong</span><span class="w"> </span><span class="n">m_port</span><span class="p">;</span>
<span class="n">InPort</span><span class="o">&lt;</span><span class="n">RTC</span><span class="p">::</span><span class="n">TimedLong</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_portIn</span><span class="p">;</span>
<span class="c1">// &lt;/rtc-template&gt;</span>
</pre></div>
</div>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">cpp_test</span><span class="p">::</span><span class="n">cpp_test</span><span class="p">(</span><span class="n">RTC</span><span class="p">::</span><span class="n">Manager</span><span class="o">*</span><span class="w"> </span><span class="n">manager</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// &lt;rtc-template block=&quot;initializer&quot;&gt;</span>
<span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="n">RTC</span><span class="p">::</span><span class="n">DataFlowComponentBase</span><span class="p">(</span><span class="n">manager</span><span class="p">),</span>
<span class="w">    </span><span class="n">m_portIn</span><span class="p">(</span><span class="s">&quot;port&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">m_port</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// &lt;/rtc-template&gt;</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="n">RTC</span><span class="p">::</span><span class="n">ReturnCode_t</span><span class="w"> </span><span class="n">cpp_test</span><span class="p">::</span><span class="n">onInitialize</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// Set InPort Buffers</span>
<span class="w">  </span><span class="n">addInPort</span><span class="p">(</span><span class="s">&quot;port&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">m_portIn</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Pythonの場合</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="p">):</span>
        <span class="n">OpenRTM_aist</span><span class="o">.</span><span class="n">DataFlowComponentBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_d_port</span> <span class="o">=</span> <span class="n">RTC</span><span class="o">.</span><span class="n">TimedLong</span><span class="p">(</span><span class="n">RTC</span><span class="o">.</span><span class="n">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_portOut</span> <span class="o">=</span> <span class="n">OpenRTM_aist</span><span class="o">.</span><span class="n">OutPort</span><span class="p">(</span><span class="s2">&quot;port&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_d_port</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">onInitialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Bind variables and configuration variable</span>

        <span class="c1"># Set InPort buffers</span>

        <span class="c1"># Set OutPort buffers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addOutPort</span><span class="p">(</span><span class="s2">&quot;port&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_portOut</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id14">
<h3><span class="section-number">5.4.10. </span>サービスポートを追加・変更する<a class="headerlink" href="#id14" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_contextmenu_serviceport.png"><img alt="_images/rtm_contextmenu_serviceport.png" class="align-center" src="_images/rtm_contextmenu_serviceport.png" style="width: 50%;" /></a>
<a class="reference internal image-reference" href="_images/rtm_serviceport.png"><img alt="_images/rtm_serviceport.png" class="align-center" src="_images/rtm_serviceport.png" style="width: 90%;" /></a>
<ol class="arabic simple">
<li><p>サービスポートを追加する場合，コンポーネントの右クリックメニューから[Add Service Port]ボタンを押下します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>変更する場合はポートのアイコン上で右クリックをし，[Edit Port]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>ポートの設定画面が表示されますので，内容を変更します．</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Port Name</p></td>
<td><p>ポート名</p></td>
</tr>
<tr class="row-odd"><td><p>Position</p></td>
<td><p>表示位置</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li><p>サービスポートを利用するためには，インターフェースを定義する必要があるため，画面左下の[Add]ボタンを押下します．</p></li>
<li><p>インタフェースが一覧に追加されますので，追加したインタフェースを選択し，画面右側の内容を変更します．</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Interface Name</p></td>
<td><p>インタフェース名</p></td>
</tr>
<tr class="row-odd"><td><p>Direction</p></td>
<td><p>方向</p></td>
</tr>
<tr class="row-even"><td><p>Instance Name</p></td>
<td><p>インスタンス名</p></td>
</tr>
<tr class="row-odd"><td><p>Variable Name</p></td>
<td><p>変数名</p></td>
</tr>
<tr class="row-even"><td><p>IDL File</p></td>
<td><p>IDLファイル</p></td>
</tr>
<tr class="row-odd"><td><p>Interface Type</p></td>
<td><p>インタフェース型</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><ul class="simple">
<li><p>独自型でのインターフェースを実現したい場合，画面下部の[Upload_IDL_File]ボタンを押下し，IDLファイルをアップロードすることができる．</p></li>
<li><p>アップロードしたIDLファイルは，各コンポーネントのIDLフォルダに配置される(ソースコードとして編集も可能である)．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>変更が完了したら，[Create]ボタンを押下します．</p></li>
<li><p>変更がサーバに自動反映され，必要なポート定義などがソースコードに自動反映されます．</p></li>
</ol>
<ul class="simple">
<li><p>C++の場合</p></li>
</ul>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// CORBA Port declaration</span>
<span class="c1">// &lt;rtc-template block=&quot;corbaport_declare&quot;&gt;</span>
<span class="n">RTC</span><span class="p">::</span><span class="n">CorbaPort</span><span class="w"> </span><span class="n">m_servicePortPort</span><span class="p">;</span>
<span class="c1">// &lt;/rtc-template&gt;</span>

<span class="c1">// Service declaration</span>
<span class="c1">// &lt;rtc-template block=&quot;service_declare&quot;&gt;</span>
<span class="n">Img_CameraCaptureServiceSVC_impl</span><span class="w"> </span><span class="n">m_interface</span><span class="p">;</span>
<span class="c1">// &lt;/rtc-template&gt;</span>
</pre></div>
</div>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">cpp_test</span><span class="p">::</span><span class="n">cpp_test</span><span class="p">(</span><span class="n">RTC</span><span class="p">::</span><span class="n">Manager</span><span class="o">*</span><span class="w"> </span><span class="n">manager</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// &lt;rtc-template block=&quot;initializer&quot;&gt;</span>
<span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="n">RTC</span><span class="p">::</span><span class="n">DataFlowComponentBase</span><span class="p">(</span><span class="n">manager</span><span class="p">),</span>
<span class="w">    </span><span class="n">m_servicePortPort</span><span class="p">(</span><span class="s">&quot;servicePort&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// &lt;/rtc-template&gt;</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="n">RTC</span><span class="p">::</span><span class="n">ReturnCode_t</span><span class="w"> </span><span class="n">cpp_test</span><span class="p">::</span><span class="n">onInitialize</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// Set service provider to Ports</span>
<span class="w">  </span><span class="n">m_servicePortPort</span><span class="p">.</span><span class="n">registerProvider</span><span class="p">(</span><span class="s">&quot;interface&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Img::CameraCaptureService&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">m_interface</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Set service consumers to Ports</span>
<span class="w">  </span><span class="c1">// Set CORBA Service Ports</span>
<span class="w">  </span><span class="n">addPort</span><span class="p">(</span><span class="n">m_servicePortPort</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Pythonの場合</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="p">):</span>
        <span class="n">OpenRTM_aist</span><span class="o">.</span><span class="n">DataFlowComponentBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_servicePortPort</span> <span class="o">=</span> <span class="n">OpenRTM_aist</span><span class="o">.</span><span class="n">CorbaPort</span><span class="p">(</span><span class="s2">&quot;servicePort&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span> <span class="o">=</span> <span class="n">Img_CameraCaptureService_i</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">onInitialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Set service providers to Ports</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_servicePortPort</span><span class="o">.</span><span class="n">registerProvider</span><span class="p">(</span><span class="s2">&quot;interface&quot;</span><span class="p">,</span> <span class="s2">&quot;Img::CameraCaptureService&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span><span class="p">)</span>
        <span class="c1"># Set CORBA Service Ports</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addPort</span><span class="p">(</span><span class="s2">&quot;self._servicePortPort&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3><span class="section-number">5.4.11. </span>コンフィギュレーションを追加・変更する<a class="headerlink" href="#id15" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_contextmenu_configuration.png"><img alt="_images/rtm_contextmenu_configuration.png" class="align-center" src="_images/rtm_contextmenu_configuration.png" style="width: 40%;" /></a>
<a class="reference internal image-reference" href="_images/rtm_configuration.png"><img alt="_images/rtm_configuration.png" class="align-center" src="_images/rtm_configuration.png" style="width: 90%;" /></a>
<ol class="arabic simple">
<li><p>コンフィギュレーションを追加・変更する場合，コンポーネントの右クリックメニューから[Edit Configuration Parameters]ボタンを押下します．</p></li>
<li><p>コンフィギュレーション設定画面が表示されますので，画面左下の[Add]ボタンを押下します．</p></li>
<li><p>コンフィギュレーションが一覧に追加されますので，追加されたコンフィギュレーションを選択し，画面右側の内容を変更します．</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>パラメタ名</p></td>
</tr>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>データ型</p></td>
</tr>
<tr class="row-even"><td><p>Default Value</p></td>
<td><p>初期値</p></td>
</tr>
<tr class="row-odd"><td><p>Variable Name</p></td>
<td><p>変数名</p></td>
</tr>
<tr class="row-even"><td><p>Unit</p></td>
<td><p>単位</p></td>
</tr>
<tr class="row-odd"><td><p>Constraint</p></td>
<td><p>制約条件</p></td>
</tr>
<tr class="row-even"><td><p>Widget</p></td>
<td><p>Textのみ</p></td>
</tr>
<tr class="row-odd"><td><p>Step</p></td>
<td><p>選択不可</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="4">
<li><p>変更が完了したら，[Update]ボタンを押下します．</p></li>
<li><p>変更がサーバに自動反映され，必要な変数定義などがソースコードに自動反映されます．</p></li>
</ol>
<ul class="simple">
<li><p>C++の場合</p></li>
</ul>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// &lt;rtc-template block=&quot;config_declare&quot;&gt;</span>
<span class="cm">/*!</span>
<span class="cm"> *</span>
<span class="cm"> * - Name:  conf_name0</span>
<span class="cm"> * - DefaultValue: 0</span>
<span class="cm"> */</span>
<span class="kt">int</span><span class="w"> </span><span class="n">m_conf_name0</span><span class="p">;</span>
<span class="c1">// &lt;/rtc-template&gt;</span>
</pre></div>
</div>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">RTC</span><span class="p">::</span><span class="n">ReturnCode_t</span><span class="w"> </span><span class="n">cpp_test</span><span class="p">::</span><span class="n">onInitialize</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// Bind variables and configuration variable</span>
<span class="w">  </span><span class="n">bindParameter</span><span class="p">(</span><span class="s">&quot;conf_name0&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">m_conf_name0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">RTC</span><span class="p">::</span><span class="n">RTC_OK</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Pythonの場合</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="p">):</span>
        <span class="n">OpenRTM_aist</span><span class="o">.</span><span class="n">DataFlowComponentBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="p">)</span>
        <span class="c1"># &lt;rtc-template block=&quot;init_conf_param&quot;&gt;</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         - Name:  conf_name0</span>
<span class="sd">         - DefaultValue: 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_conf_name0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># &lt;/rtc-template&gt;</span>

<span class="k">def</span> <span class="nf">onInitialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Bind variables and configuration variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bindParameter</span><span class="p">(</span><span class="s2">&quot;conf_name0&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conf_name0</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id16">
<h3><span class="section-number">5.4.12. </span>パッケージを構築する<a class="headerlink" href="#id16" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_connectport.png"><img alt="_images/rtm_connectport.png" class="align-center" src="_images/rtm_connectport.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>コンポーネントの出力ポートをクリックし，表示された矢印を別コンポーネントの入力ポートにドロップします．</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>コンポーネントにホストを割り振る場合，ホストを割り当て，保存をしたうえでポートの矢印のドラッグ＆ドロップを行ってください．この順序で行わなければ，実行時にエラーとなります．</p>
</div>
</section>
<section id="id17">
<h3><span class="section-number">5.4.13. </span>パッケージ・コンポーネントを保存する<a class="headerlink" href="#id17" title="この見出しへのパーマリンク"></a></h3>
<ol class="arabic simple">
<li><p>以下のいずれかの方法でパッケージおよびコンポーネントの保存を行います．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>画面上部の[File]-[Save All]ボタンを押下する．</p></li>
<li><p>画面中央の白い領域で表示される右クリックメニューの[Save All]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>全ての変更が保存され，コンポーネントの変更内容からパッケージの定義情報が更新されます．</p></li>
</ol>
</section>
<section id="git">
<h3><span class="section-number">5.4.14. </span>コンポーネントをGitリポジトリと連携する<a class="headerlink" href="#git" title="この見出しへのパーマリンク"></a></h3>
<ul class="simple">
<li><p>Gitリポジトリと連携する場合，あらかじめgitconfigの設定が必要となる．</p></li>
<li><p>はじめてCommitを行う場合には，IDEを実行しているサーバ上でTerminalからgitconfigの設定を行う．</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;your name&quot;</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span>youremail@example.com
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/rtm_component_git.png"><img alt="_images/rtm_component_git.png" class="align-center" src="_images/rtm_component_git.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>コンポーネントの右クリックメニューから[Git Repository Link]ボタンを押下します．</p></li>
<li><p>Gitリポジトリ設定画面が表示されますので，ユーザ名などの項目を入力し，[Commit &amp; Push]ボタンを押下します．</p></li>
<li><p>Result欄に結果が表示されます．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>ローカルリポジトリのみに反映する場合には，[Commit]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Git側のリモートリポジトリはIDE上から作成することはできないため，あらかじめGitHub上などで作成してください．~/.netrcなどにユーザ名・パスワードをあらがじめ書いておくことで，ユーザ名・パスワードの入力を省略することが可能です．</p>
</div>
</section>
<section id="id18">
<h3><span class="section-number">5.4.15. </span>パッケージをGitリポジトリと連携する<a class="headerlink" href="#id18" title="この見出しへのパーマリンク"></a></h3>
<ol class="arabic simple">
<li><p>以下のいずれかの方法でGitリポジトリ設定画面を起動します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>画面上部の[File]-[Git Repository Link]ボタンを押下する．</p></li>
<li><p>画面中央の白い領域で表示される右クリックメニューの[Git Repository Link]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Gitリポジトリ設定画面が表示されますので，ユーザ名などの項目を入力し，[Commit &amp; Push]ボタンを押下します．</p></li>
<li><p>Result欄に結果が表示されます．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>自動的にパッケージにコンポーネントのリポジトリが紐付けられる．</p></li>
<li><p>ローカルリポジトリのみに反映する場合には，[Commit]ボタンを押下する．</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Git側のリモートリポジトリはIDE上から作成することはできないため，あらかじめGitHub上などで作成してください．~/.netrcなどにユーザ名・パスワードをあらがじめ書いておくことで，ユーザ名・パスワードの入力を省略することが可能です．</p>
</div>
</section>
<section id="id19">
<h3><span class="section-number">5.4.16. </span>パッケージ・コンポーネントをローカルビルドする<a class="headerlink" href="#id19" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_local_build.png"><img alt="_images/rtm_local_build.png" class="align-center" src="_images/rtm_local_build.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面上部の[Local Component]-[Build All]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;Success&quot;と表示されれば成功です．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Pythonの場合，ビルドは不要だが，実行周期の設定などを更新する必要があるので，システム実行前はビルドする．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>C++で&quot;Failed&quot;と表示された場合は，ソースコードの再編集を行ってください．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>コンソールは自動更新されますので，自動更新を止める場合は，画面下部の[Auto tail and Scroll to bottom]チェックボックスをOFFにする．</p></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="_images/rtm_local_clean.png"><img alt="_images/rtm_local_clean.png" class="align-center" src="_images/rtm_local_clean.png" style="width: 70%;" /></a>
<ol class="arabic simple" start="4">
<li><p>ビルド生成物を削除する際には，[Local Component]-[Clean All]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;Clean&quot;などと表示されれば成功です．</p></li>
</ol>
</section>
<section id="id20">
<h3><span class="section-number">5.4.17. </span>システムをローカル実行する<a class="headerlink" href="#id20" title="この見出しへのパーマリンク"></a></h3>
<p>以下の2通りの方法があります．</p>
<ul>
<li><p>[方法1] コンポーネントのプロセス起動からアクティブ化までを一気に行う．</p>
<a class="reference internal image-reference" href="_images/rtm_local_run.png"><img alt="_images/rtm_local_run.png" class="align-center" src="_images/rtm_local_run.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面上部の[Local Component]-[Run System]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;Activate&quot;と表示されれば成功です．</p></li>
<li><p>&quot;Kill Process&quot;などが表示された場合，何らかのエラーが発生していますので，ソースコードの再編集・再ビルドを行ってください．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>実行処理には数秒がかかる．</p></li>
<li><p>ネームサーバーは実行処理の直前に自動的に起動する．</p></li>
<li><p>実行が成功したコンポーネントは，アイコンの色が黄緑色になる．</p></li>
<li><p>コンソールは自動更新されるので，自動更新を止める場合は画面下部の[Auto tail and Scroll to bottom]のチェックボックスをOFFにする．</p></li>
<li><p>システムの実行中は，コンポーネントの編集などはできなくなる．</p></li>
<li><p>コンポーネントにローカルホストではないホストを割り当てた状態でローカル実行した場合，デフォルトのローカルホストに割り当てたうえで実行される．</p></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="_images/rtm_local_terminate.png"><img alt="_images/rtm_local_terminate.png" class="align-center" src="_images/rtm_local_terminate.png" style="width: 70%;" /></a>
<ol class="arabic simple" start="4">
<li><p>システムを停止したい場合，画面上部の[Local Component]-[Terminate System]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;Terminated&quot;などが表示されれば成功です．</p></li>
</ol>
</li>
<li><p>[方法2] パッケージを段階的に実行する．</p>
<a class="reference internal image-reference" href="_images/rtm_local_start.png"><img alt="_images/rtm_local_start.png" class="align-center" src="_images/rtm_local_start.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面上部の[Local Component]-[Start RTCs]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;System Started (パッケージ名)&quot;と表示されれば成功です．</p></li>
</ol>
<ul class="simple">
<li><p>スタート処理には数秒がかかる．</p></li>
<li><p>ネームサーバーは実行処理の直前に自動的に起動する．</p></li>
<li><p>スタート処理が成功したコンポーネントは，アイコンの色が黄緑色になる．</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rtm_local_connect.png"><img alt="_images/rtm_local_connect.png" class="align-center" src="_images/rtm_local_connect.png" style="width: 70%;" /></a>
<ol class="arabic simple" start="3">
<li><p>Start RTCsが成功した場合，画面上部の[Local Component]-[Connect Ports]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;rtresurrect&quot;と表示されれば成功です．</p></li>
</ol>
<a class="reference internal image-reference" href="_images/rtm_local_activate.png"><img alt="_images/rtm_local_activate.png" class="align-center" src="_images/rtm_local_activate.png" style="width: 70%;" /></a>
<ol class="arabic simple" start="5">
<li><p>Connect Portsが成功した場合，画面上部の[Local Component]-[Activate RTCs]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;System Started(パッケージ名)&quot;と表示されれば成功です．</p></li>
</ol>
<a class="reference internal image-reference" href="_images/rtm_local_deactivate.png"><img alt="_images/rtm_local_deactivate.png" class="align-center" src="_images/rtm_local_deactivate.png" style="width: 70%;" /></a>
<ol class="arabic simple" start="7">
<li><p>Activate RTCsが成功し，システムをディアクティベイトしたい場合，画面上部の[Local Component]-[Deactivate RTCs]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;System Stopped(パッケージ名)&quot;と表示されれば成功です．</p></li>
<li><p>システムを停止する場合，画面上部の[Local Component]-[Terminate System]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，左側の画面に&quot;Terminated&quot;などが表示されれば成功です．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>上記のいずれかの工程でエラーが表示された場合，ソースコードの再編集・再ビルドを行うか，ネームサーバーの再起動などを試す．</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id21">
<h3><span class="section-number">5.4.18. </span>システムをデプロイする<a class="headerlink" href="#id21" title="この見出しへのパーマリンク"></a></h3>
<ol class="arabic simple">
<li><p>画面上部の[Remote Component]-[Deploy]ボタンを押下します．</p></li>
<li><p>デプロイが成功した場合，ポップアップが出現し&quot;All RTCs are Deployed&quot;などと表示されます．</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="_images/rtm_deploy.png"><img alt="_images/rtm_deploy.png" class="align-center" src="_images/rtm_deploy.png" style="width: 70%;" /></a>
<ul class="simple">
<li><p>デプロイ処理には数秒かかることがある．</p></li>
<li><p>数十秒経過してもポップアップが出現しない場合，リモートリポジトリからログイン認証を求められている可能性がある．その場合はwasanbon-webframeworkを起動しているサーバーのTerminalを確認する．</p></li>
<li><p>デプロイに成功した場合，デプロイ先のマシンで，.wasambon-webframework/exec_workspace内にパッケージディレクトリが生成されている．</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>コンポーネントをデプロイするだけでは，DNNモデルは配布されていません．
DNNモデルを利用する際は，「7.3. 複数マシンにおけるAirGraphの連携方法」を参照し，DNNモデルを開発用ホストに取得した後，デプロイ先の所定のパスにscpコマンド等で配置してからrunしてください．</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>デプロイが失敗した場合，ポップアップが出現し&quot;Deploy ERROR&quot;などと表示されます．pushが正しくできているか，またリモートのwasanbon-webframeworkが起動中かなどを確認してください．</p></li>
</ol>
</section>
<section id="id22">
<h3><span class="section-number">5.4.19. </span>パッケージ・コンポーネントをリモートビルドする<a class="headerlink" href="#id22" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_remote_build.png"><img alt="_images/rtm_remote_build.png" class="align-center" src="_images/rtm_remote_build.png" style="width: 70%;" /></a>
<ol class="arabic simple">
<li><p>画面上部の[Remote Component]-[Build All]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;Success&quot;などと表示されれば成功です．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Pythonの場合，ビルドは不要だが，実行周期の設定などを更新する必要があるので，システム実行前はビルドする．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>C++で&quot;Failed&quot;と表示された場合は，ソースコードの再編集を行ってください．</p></li>
<li><p>ビルド生成物を削除する際には，[Remote Component]-[Clean All]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;Clean&quot;などと表示されれば成功です．</p></li>
</ol>
</section>
<section id="id23">
<h3><span class="section-number">5.4.20. </span>システムをリモート実行する<a class="headerlink" href="#id23" title="この見出しへのパーマリンク"></a></h3>
<p>以下の2通りの方法があります．</p>
<ul>
<li><p>[方法1] コンポーネントのプロセス起動からアクティブ化までを一気に行う．</p>
<ol class="arabic simple">
<li><p>画面上部の[Remote Component]-[Run System]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;Activate&quot;と表示されれば成功です．</p></li>
<li><p>&quot;Kill Process&quot;などが表示された場合，何らかのエラーが発生していますので，ソースコードの再編集・再ビルドを行ってください．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>実行処理には数秒がかかる．</p></li>
<li><p>ネームサーバーは実行処理の直前に自動的に起動する．</p></li>
<li><p>実行が成功したコンポーネントは，アイコンの色が黄緑色になる．</p></li>
<li><p>システムの実行中は，コンポーネントの編集などはできなくなる．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>システムを停止したい場合，画面上部の[Remote Component]-[Terminate System]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;Kill Process&quot;などが表示されれば成功です．</p></li>
</ol>
</li>
<li><p>[方法2] パッケージを段階的に実行する．</p>
<ol class="arabic simple">
<li><p>画面上部の[Remote Component]-[Start RTCs]ボタンを押下します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>実行処理には数秒がかかる．</p></li>
<li><p>ネームサーバーは実行処理の直前に自動的に起動する．</p></li>
<li><p>実行が成功したコンポーネントは，アイコンの色が黄緑色になる．</p></li>
<li><p>システムの実行中は，コンポーネントの編集などはできなくなる．</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>コンソール画面が表示されますので，画面に&quot;System Started(パッケージ名)&quot;と表示されれば成功です．</p></li>
<li><p>Start RTCsが成功した場合，画面上部の[Remote Component]-[Connect Ports]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;rtresurrect&quot;と表示されれば成功です．</p></li>
<li><p>Connect Portsが成功した場合，画面上部の[Remote Component]-[Activate RTCs]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;System Started (パッケージ名)&quot;と表示されれば成功です．</p></li>
<li><p>Activate RTCsが成功し，システムをディアクティベイトしたい場合，画面上部の[Remote Component]-[Deactivate RTCs]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;System Stopped (パッケージ名)&quot;と表示されれば成功です．</p></li>
<li><p>システムを停止する場合，画面上部の[Remote Component]-[Terminate System]ボタンを押下します．</p></li>
<li><p>コンソール画面が表示されますので，画面に&quot;Terminated&quot;などが表示されれば成功です．</p></li>
</ol>
</li>
<li><p>上記のいずれかの工程でエラーが表示された場合，ソースコードの再編集・再ビルドを行うか，ネームサーバーの再起動などを試す．</p></li>
<li><p>リモートコンソールダイアログでは，ログの自動更新は行われない．ログを更新する場合は，ダイアログの左下の[Update]ボタンを押下する．</p></li>
<li><p>リモートコンソールダイアログで複数のファイルが表示される場合は，ダイアログ上部にあるタブをクリックすると，ログの内容が切り替わる．</p></li>
</ul>
</section>
</section>
<section id="id24">
<h2><span class="section-number">5.5. </span>その他<a class="headerlink" href="#id24" title="この見出しへのパーマリンク"></a></h2>
<section id="id25">
<h3><span class="section-number">5.5.1. </span>コンポーネントの一覧について<a class="headerlink" href="#id25" title="この見出しへのパーマリンク"></a></h3>
<p>画面左側に表示されるコンポーネントの一覧はwasanbonのBinder機能を利用して集めており，AirGraphに最初にアクセスしたタイミングで全てのパッケージ・コンポーネントをCloneします．</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>この際，認証が必要なPrivateリポジトリなどは取得できません．~/.netrcにあらかじめ認証情報を付与しておくなどしてください．</p>
</div>
</section>
<section id="binder">
<h3><span class="section-number">5.5.2. </span>Binderを新規作成する<a class="headerlink" href="#binder" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_create_binder.png"><img alt="_images/rtm_create_binder.png" class="align-center" src="_images/rtm_create_binder.png" style="width: 60%;" /></a>
<ol class="arabic simple">
<li><p>画面上部の[Binder]-[Create Binder]ボタンを押下します．</p></li>
<li><p>ポップアップが表示されます．.wasanbon-webframework/config/gitHubConfig.yamlに設定したgitHubのユーザー名で，Binderを作成することを確認されます．</p></li>
<li><p>内容に相違がなければ，[OK]ボタンを押下します．</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Binderをすでに作成済みの場合，この操作は無効となる．</p></li>
</ul>
</div></blockquote>
</section>
<section id="id26">
<h3><span class="section-number">5.5.3. </span>パッケージ・コンポーネントを作成したBinderに登録する<a class="headerlink" href="#id26" title="この見出しへのパーマリンク"></a></h3>
<a class="reference internal image-reference" href="_images/rtm_contextmenu_add_rtc_binder.png"><img alt="_images/rtm_contextmenu_add_rtc_binder.png" src="_images/rtm_contextmenu_add_rtc_binder.png" style="width: 40%;" /></a>
<a class="reference internal image-reference" href="_images/rtm_add_rtc_binder.png"><img alt="_images/rtm_add_rtc_binder.png" src="_images/rtm_add_rtc_binder.png" style="width: 55%;" /></a>
<ol class="arabic simple">
<li><p>パッケージを追加する際は，画面中央の作業領域で右クリックし，[Add System to Binder]ボタンを押下します．</p></li>
<li><p>コンポーネントを追加する際は，RTCアイコン上で右クリックし，[Add Component to Binder]ボタンを押下します．</p></li>
<li><p>ポップアップが表示されます．コミットメッセージを入力し，[Commit]または[Commit＆Push]ボタンを押下します．</p></li>
<li><p>result欄にcommitやpushの結果が出力されます．&quot;Success&quot;などと表示されれば成功です．</p></li>
<li><p>エラーが表示された場合は，gitHubConfig.yamlの内容が正しいかなど再確認してください．</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>wasanbon-webframework version 1.0では，BinderをpushするAPIが未対応のため，Pushは成功しません．</p>
</div>
</section>
<section id="id27">
<h3><span class="section-number">5.5.4. </span>Binderに登録済みのパッケージ・コンポーネントを更新する<a class="headerlink" href="#id27" title="この見出しへのパーマリンク"></a></h3>
<ol class="arabic simple">
<li><p>パッケージを更新する際は，画面中央の作業領域で右クリックし，[Update System to Binder]ボタンを押下します．</p></li>
<li><p>コンポーネントを追加する際は，RTCアイコン上で右クリックし，[Update Component to Binder]ボタンを押下します．</p></li>
<li><p>ポップアップが表示されます．コミットメッセージを入力し，[Commit]または[Commit＆Push]ボタンを押下します．</p></li>
<li><p>result欄にcommitやpushの結果が出力されます．&quot;Success&quot;などと表示されれば成功です．</p></li>
<li><p>エラーが表示された場合は，gitHubConfig.yamlの内容が正しいかなど再確認してください．</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>wasanbon-webframework version 1.0では，BinderをpushするAPIが未対応のため，Pushは成功しません．</p>
</div>
</section>
<section id="airgraph-wasanbon">
<h3><span class="section-number">5.5.5. </span>AirGraph，wasanbonのバージョンを確認する<a class="headerlink" href="#airgraph-wasanbon" title="この見出しへのパーマリンク"></a></h3>
<ol class="arabic simple">
<li><p>AirGraphのバージョンを確認したい場合，画面上部の[Help]-[AirGraph version]ボタンを押下します．</p></li>
<li><p>wasanbonのバージョンを確認したい場合，画面上部の[Help]-[wasanbon version]ボタンを押下します．</p></li>
<li><p>ポップアップが表示され，バージョン情報が表示されます．</p></li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="start.html" class="btn btn-neutral float-left" title="1. AirGraphについて" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="keras.html" class="btn btn-neutral float-right" title="6. AirGraph (Keras Editor)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Systems Engineering Consultants Co., LTD..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>